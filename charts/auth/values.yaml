# PostgreSQL configuration for Keycloak
database:
  external: false
  image:
    repository: postgres
    tag: "13"
  username: keycloak
  password: keycloak
  name: keycloak
  # TODO v5+ change this
  volumePath: /home/bart/code/vantage6/vantage6/dev/.db/db_pv_auth
  # Kubernetes node name for local persistent volumes
  # Find your node name with: kubectl get nodes
  # This must match the actual node name in your cluster
  # TODO v5+ change this
  k8sNodeName: "linux-laptop"  # Set this to your Kubernetes node name (e.g., "linux-laptop")

# Keycloak Operator configuration
keycloak:
  # Operator version (should match the version installed via install-keycloak command)
  # operatorVersion: "24.0.0"

  # Keycloak instance configuration
  instances: 1
  hostname:
    hostname: ""

  # Database connection (will be set automatically if database.external is false)
  database:
    host: ""  # Will be set to postgres service name
    port: 5432
    username: keycloak
    password: keycloak
    database: keycloak

  # Admin credentials
  auth:
    adminUser: admin
    adminPassword: admin

  # Resources
  resources:
    limits:
      memory: 2Gi
      cpu: 1000m
    requests:
      memory: 1Gi
      cpu: 500m

  # TLS configuration
  production: true
  tls:
    enabled: true
    autoGenerated: true
    # secretName: ""  # Optional: specify existing TLS secret name

  # Service configuration
  service:
    type: ClusterIP  # ClusterIP, NodePort, or LoadBalancer
